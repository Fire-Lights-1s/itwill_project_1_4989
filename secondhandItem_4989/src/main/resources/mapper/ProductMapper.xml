<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.itwillbs.mapper.ProductMapper">

<!-- 	판매 상품 1개 등록 -->
<insert id="insertProduct">
    insert into Product (seller_id, category_name, product_name, product_price, year_purchase, product_desc, product_img1, trade_method, pay_method, trade_area, view_count, like_count, trade_status)
    values (#{seller_id}, #{category_name}, #{product_name}, #{product_price}, #{year_purchase}, #{product_desc}, #{product_img1}, #{trade_method}, #{pay_method}, #{trade_area}, 0, 0, '거래 가능')
</insert>



<!-- 	판매 상품 5개 등록 
  <insert id="insertProduct">
    insert into Product (seller_id, category_name, product_name, product_price, year_purchase, product_desc, product_img1, product_img2, product_img3, product_img4, product_img5, trade_method, pay_method, trade_area, view_count, like_count, trade_status)
    values (#{seller_id}, #{category_name}, #{product_name}, #{product_price}, #{year_purchase}, #{product_desc}, #{product_img1}, #{product_img2}, #{product_img3}, , #{product_img4}, #{product_img5}, #{trade_method}, #{pay_method}, 0, 0, 0, '거래 가능')
</insert>
-->    
    <!-- product_id로 상품 상세정보 가져오기 -->
    <select id="getProductDetail" resultType="com.itwillbs.domain.ProductDTO">
        select product_id, category_name, seller_id, product_name, product_price, 
               year_purchase, product_desc, product_img1, product_img2, product_img3, 
               product_img4, product_img5, created_datetime, view_count, 
               like_count, trade_method, pay_method, trade_area
        from Product
        where product_id = #{product_id}
    </select>
    
    <!-- 찜할 때마다 해당 상품 like_count 필드를 증가-->
    <update id="increaseCount">
        UPDATE Product
        SET like_count = like_count + 1
        WHERE product_id = #{product_id}
    </update>

	
</mapper>